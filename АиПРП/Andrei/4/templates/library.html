
{%extends "layout.html"%} {%block content%}

<div class="content-section">
	<h2>Current files in a <i>{{tree.name}}</i> folder </h2>
	<ul>
	{%- for item in tree.children recursive %}
		<li>{{ item.name }}
		{%- if item.children -%}
			<ul>{{ loop(item.children) }}</ul>
		{%- endif %}</li>
	{%- endfor %}
	</ul>
</div>

<div class="content-section">
	<h2>Select file to upload</h2>
	<p>
		{% with messages = get_flashed_messages() %}
		  {% if messages %}
			<ul class=flashes>
			{% for message in messages %}
			  <li>{{ message }}</li>
			{% endfor %}
			</ul>
		  {% endif %}
		{% endwith %}
	</p>
	<form method="post" action="/" enctype="multipart/form-data">
		<dl>
			<p>
				<input type="file" name="file" autocomplete="off" required>
			</p>
		</dl>
		<p>
			<input type="submit" value="Submit">
		</p>
	</form>
</div>

{% endblock content %}